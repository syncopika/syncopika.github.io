<!doctype html>

<html>

<head>
	<script src='vue.js'></script>
	<script src='vue-router.js'></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://use.fontawesome.com/58938a654b.js"></script>
	<script src="scripts/roulette.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans">
	<link rel="stylesheet" href="style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset='UTF-8'>
	<title>
		hey there
	</title>
</head>

<body>
	<div id='app' class='container-fluid'>
		<div class='row'>
			<div id='sidebar' class='col-lg-2 col-md-2 col-sm-12'>
				
				<ul>
					<h2 class='title'><router-link to="/" id="homelink">n.c.h / 熊志文</router-link></h2>
					<p class='title'>welcome!</p>
				</ul>
				
				<ul id='index'>
					<hr>
					<li id='about'><router-link to="/about">about</router-link></li>
					<li id='music'><router-link to="/music">music</router-link></li>
					<li id='projects'><router-link to="/projects">projects</router-link></li>
					<!-- <li><a href='https://syncopika.github.io/blog'>blog</a></li> -->
					<li id='contact'><router-link to="/contact">contact</router-link></li>
					<hr>
					<p id='footerTag'>c. 2016 </p>
				</ul>
			</div>
			
			<div id='content' class='col-lg-6 col-md-6 col-sm-12'>
				<router-view></router-view>
			</div>
			
		</div>
	</div>
	<script src='main.js'></script>
</body>




<script>

function changeHeight(content){
	if(content === "#musicContent"){
		var height = $(content).height();
		$('#sidebar').height(height + 50);
	}else{
		$('#sidebar').height("100%");
	}
}

//this changes the sidebar height depending on viewport
//my music portfolio is the only section that goes past 100% height, so 
//I'm specifically targeting that section
$(window).resize(function(){
	var viewportWidth = $(window).width();
	//if on mobile, don't adjust sidebar height
	//keep at 100%
	if(viewportWidth <= 960){
		$('#sidebar').height("100%");
	}
	if(viewportWidth > 960 && viewportWidth < 990){
		$('#sidebar').height("auto");
	}
	//if not mobile and current content shown is my music content
	else if(viewportWidth > 960 && $('#musicContent').css('display') === "block"){
		changeHeight("#musicContent");
	}else{
		$('#sidebar').height("100%");
	}
});

/*	
$('#aboutContent').hide();
$('#musicContent').hide();
$('#projectsContent').hide();
$('#contactContent').hide();

var previousFlag = null;
function showContent(id){

	var newId = "#" + id + "Content";
	
	var clickIdTag = "<a href='#'>" + id + "_" + "</a>";
	var previousTag = "<a href='#'>" + previousFlag + "</a>";
	
	var viewportWidth = $(window).width();
	if(!(viewportWidth <= 960)){
		changeHeight(newId);
	}
	
	if(previousFlag === id){
		//if you click on a section link a second time
		//in succession, hide the content and take away the underscore
		$('#' + id).html("<a href='#'>" + id + "</a>");
		$(newId).hide();
		previousFlag = null;
	}else{
		$("div").each(function(){
			var content = $(this).hasClass("open") || $(this).hasClass("closed");
			if(content && $(this).attr('id') !== id){
				$('#' + id).html(id);
				$(this).hide();
			}
		});	
		$('#' + previousFlag).html(previousTag);
		$('#' + id).html(clickIdTag);
		$('#content').append($(newId));
		$(newId).show();
		previousFlag = id;
	}	
	
	// add the soundcloud sample src only after user clicks on my music to show the soundcloud iframe
	// do the same for my game music sample
	var soundcloudElement = document.getElementById('scSample'); // soundcloud embed iframe
	var gameSamp = document.getElementById('gameSample'); // my game music
	if(id === "music"){
		// show first sample
		soundcloudElement.src = "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/276332169&amp;color=0066cc&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false";
	
		// my game music
		gameSamp.src = "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/89302627&amp;auto_play=false&amp;hide_related=false&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;visual=false";
	}else{
		// if id is not music, remove src and hide
		soundcloudElement.src = ""; 
		gameSamp.src = "";
	}
}

// interesting thing to look at: https://stackoverflow.com/questions/26370100/soundcloud-iframe-embed-producing-indexsizeerror
// because I'm hiding the embedded soundcloud players initially, there's an exception thrown about the canvas width being 0when my page is loaded. 
// the fix is to add the src attribute after the iframes have been established/visible.

var soundcloud = {
1:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/276332169&amp;color=0066cc&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false",
2:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/481490157&color=0066cc&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false",
3:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/209110662&amp;color=0066cc&amp;auto_play=false&amp;hide_related=false&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false",
4:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/264147169&amp;color=0066cc&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false",
5:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/209159656&amp;color=0066cc&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false",
6:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/335892402&amp;color=0066cc&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"
};

var bandcamp = {
1:"<iframe style=\"border: 0; width: 700px; height: 282px;\" src=\"https://bandcamp.com/EmbeddedPlayer/album=2349212220/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=true/artwork=small/transparent=true/\" seamless><a href=\"http://greenbearmusic.bandcamp.com/album/bgm-fun-vol-6\">BGM Fun Vol.6 by n.c.h</a></iframe>",
2:"<iframe style=\"border: 0; width: 700px; height: 282px;\" src=\"https://bandcamp.com/EmbeddedPlayer/album=932190421/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=true/artwork=small/transparent=true/\" seamless><a href=\"http://greenbearmusic.bandcamp.com/album/bgm-fun-vol-7\">BGM Fun Vol.7 by n.c.h</a></iframe>",
3:'<iframe style="border: 0; width: 700px; height: 282px;" src="https://bandcamp.com/EmbeddedPlayer/album=1715420384/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=true/artwork=small/transparent=true/" seamless><a href="http://greenbearmusic.bandcamp.com/album/bgm-fun-vol-2">BGM Fun Vol.2 by n.c.h</a></iframe>',
4:'<iframe style="border: 0; width: 700px; height: 282px;" src="https://bandcamp.com/EmbeddedPlayer/album=3271172078/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=true/artwork=small/transparent=true/" seamless><a href="http://greenbearmusic.bandcamp.com/album/bgm-fun-vol-9">BGM Fun Vol.9 by n.c.h</a></iframe>',
5:'<iframe style="border: 0; width: 700px; height: 282px;" src="https://bandcamp.com/EmbeddedPlayer/album=764407444/size=large/bgcol=ffffff/linkcol=0687f5/artwork=small/transparent=true/" seamless><a href="http://greenbearmusic.bandcamp.com/album/bgm-fun-vol-10">BGM Fun Vol.10 by n.c.h</a></iframe>'
};

var scCounter = 1;
var bcCounter = 1;

//switch bandcamp links
function next(id){
	
	if(id == 'bc'){
		++bcCounter;
		if(bcCounter <= 5){
			$('#bandcamp').html(bandcamp[bcCounter]);
		}else if(bcCounter === 6){
			bcCounter = 1;
			$('#bandcamp').html(bandcamp[bcCounter]);
		}
	}else{
		var soundcloudElement = document.getElementById('scSample'); // soundcloud embed iframe
		++scCounter;
		if(scCounter <= 6){
			soundcloudElement.src = soundcloud[scCounter];
		}else if(scCounter === 7){
			scCounter = 1;
			soundcloudElement.src = soundcloud[scCounter];
		}
	}
	
}


/*
	bind button in contact section to roulette function
*/
var contact = document.getElementById('getEmail');
//contact.addEventListener('click', function(){
//	roulette("nhung93 at outlook.com".split(""), $("#email").html().split(""), $("#email").html(), "email" );
//});

</script>



</html>