<!doctype html>

<html>

<head>
	<title> random text-related things </title>
</head>

<style>
	body{
		font-family: Georgia, serif;
	}
	#header{
		text-align: center;
	}
</style>

<body>
	<h2 id='header'> fun text stuff! </h2>
	<hr />
	<div id='randomCasing'>
		<h3> apply random casing to a string of text! </h3>
		<label for='randomCasingInput'> text: </label>
		<input id='randomCasingInput' type='text' />
		<button id='applyRandomCasing'>apply</button>
		
		<br />
		<p>output: <span id='randomCasingOutput'></span></p>
	</div>
	
	<br />
	
	<div id='spacer'>
		<h3> apply random or specific spacing between characters in a string of text! </h3>
		<label for='randomSpacingInput'> text: </label>
		<input id='randomSpacingInput' type='text' />
		<button id='applyRandomSpacing'>apply</button>
		
		<div>
			<br />
			<label>randomize:</label> 
			<input id='yesRandom' type='radio' name='randomizeSpace' value='yes' /><label for='yesRandom'>yes</label> 
			<input id='noRandom' type='radio' name='randomizeSpace' value='no' checked /><label for='noRandom'>no</label>
			
			<div id='spacingOptions'>
				<br />
				<label for='minSpace'>min space size:</label> <input id='minSpace' type='number' min="0" max="8" disabled/>
				<br />
				<label for='maxSpace'>max space size (up to 8):</label> <input id='maxSpace' type='number' min="0" max="8" disabled/>
				<br />
			</div>
			<label for='spaceSize'>space size:</label> <input id='spaceSize' type='number' min="0" max="8" />
			<br />
		</div>
		
		<p>output: <span id='randomSpacingOutput'></span></p>
	</div>

</body>


<script>

function toggleSpacingOptions(evt){
	const isDisabled = evt.target.value !== "yes";
	document.getElementById('minSpace').disabled = isDisabled;
	document.getElementById('maxSpace').disabled = isDisabled;
}

function applyRandomCasing(str){
	let newStr = "";
	for(let i = 0; i < str.length; i++){
		if(str[i] === " "){
			newStr += "&nbsp;";
			continue;
		}
		
		let choice = Math.random();
		if(choice >= 0.5){
			newStr += str[i].toUpperCase();
		}else{
			newStr += str[i].toLowerCase();
		}
	}
	document.getElementById('randomCasingOutput').innerHTML = newStr;
}

function getSpaceOfNLength(n){
	//https://stackoverflow.com/questions/43476923/spaces-not-rendering-in-span-tags
	let space = "";
	for(let i = 0; i < n; i++){
		space += "&nbsp;";
	}
	return space;
}

function applySpacer(str, random, min, max, spaceValue){
	let newStr = "";
	for(let i = 0; i < str.length; i++){
		let spaceLength = spaceValue;
		if(random){
			spaceLength = Math.floor(Math.random() * (max - min) + min);
			console.log(spaceLength);
		}
		newStr += str[i] + getSpaceOfNLength(spaceLength);
	}
	document.getElementById('randomSpacingOutput').innerHTML = newStr;
}

document.getElementById('yesRandom').addEventListener('input', (evt) => {
	toggleSpacingOptions(evt);
});

document.getElementById('noRandom').addEventListener('input', (evt) => {
	toggleSpacingOptions(evt);
});

document.getElementById('applyRandomCasing').addEventListener('click', (evt) => {
	applyRandomCasing(document.getElementById('randomCasingInput').value);
});

document.getElementById('applyRandomSpacing').addEventListener('click', (evt) => {
	const random = document.getElementById('yesRandom').checked;
	const min = parseInt(document.getElementById('minSpace').value) || 0;
	const max = parseInt(document.getElementById('maxSpace').value) || 0;
	const defaultVal = parseInt(document.getElementById('spaceSize').value) || 0;
	const str = document.getElementById('randomSpacingInput').value;
	applySpacer(str, random, min, max, defaultVal);
});

</script>

</html>